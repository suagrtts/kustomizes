<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{PRODUCT_NAME} - Nike Store</title>
    <link rel="stylesheet" href="../homepagestyles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header class="navbar">
        <div class="logo">
            <a href="../index.html"><img src="../logo.png" alt="Kustomize"></a>
        </div>
        <nav class="nav-links">
            <a href="../homepage.html">Home</a>
            <a href="../cart.html" class="cart-icon">Cart <i class="fas fa-shopping-cart"></i><span class="cart-count">0</span></a>
            <a href="../favorites.html" class="favorites-icon">Favorites <i class="fas fa-heart"></i><span class="favorites-count">0</span></a>
            <div class="profile-dropdown">
                <a href="#" class="profile">Profile <i class="fas fa-user"></i></a>
                <div class="profile-dropdown-content">
                    <a href="../profile.html" class="profile-dropdown-item">
                        <i class="fas fa-user-circle"></i> My Profile
                    </a>
                    <a href="../cart.html" class="profile-dropdown-item">
                        <i class="fas fa-shopping-bag"></i> My Orders
                    </a>
                    <div class="profile-dropdown-divider"></div>
                    <a href="#" class="profile-dropdown-item logout" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <div class="product-page">
        <div class="product-container">
            <div class="product-gallery">
                <div class="main-image">
                    <img src="{PRODUCT_IMAGE}" alt="{PRODUCT_NAME}" id="productImage">
                </div>
            </div>
            <div class="product-details">
                <h1 id="productName">{PRODUCT_NAME}</h1>
                <div class="product-meta">
                    <span class="brand" id="productBrand">{BRAND}</span>
                    <span class="style" id="productStyle">{STYLE}</span>
                </div>
                <div class="price-container">
                    <span class="current-price" id="currentPrice">{CURRENT_PRICE}</span>
                    <span class="original-price" id="originalPrice">{ORIGINAL_PRICE}</span>
                    <span class="discount" id="discount">{DISCOUNT}% OFF</span>
                </div>
                <p class="description" id="productDescription">{DESCRIPTION}</p>
                
                <div class="size-selector">
                    <h3>Select Size</h3>
                    <div class="size-options" id="sizeOptions"></div>
                </div>

                <div class="quantity-selector">
                    <h3>Quantity</h3>
                    <div class="quantity-controls">
                        <button onclick="updateQuantity(document.getElementById('quantity'), -1)">-</button>
                        <input type="number" id="quantity" value="1" min="1" max="10" onchange="validateQuantity(this)">
                        <button onclick="updateQuantity(document.getElementById('quantity'), 1)">+</button>
                    </div>
                </div>

                <div class="product-actions">
                    <button class="add-to-cart-btn">Add to Cart</button>
                    <button class="favorite-btn">
                        <i class="fas fa-heart"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Reviews Section -->
        <div class="reviews-section">
            <h2>Customer Reviews</h2>
            
            <!-- Review Form -->
            <div class="review-form">
                <h3>Write a Review</h3>
                <div class="star-rating">
                    <i class="far fa-star" data-rating="1"></i>
                    <i class="far fa-star" data-rating="2"></i>
                    <i class="far fa-star" data-rating="3"></i>
                    <i class="far fa-star" data-rating="4"></i>
                    <i class="far fa-star" data-rating="5"></i>
                </div>
                <textarea id="reviewText" placeholder="Share your thoughts about this product..."></textarea>
                <button id="submitReview" class="btn-primary">Submit Review</button>
            </div>

            <!-- Reviews List -->
            <div class="reviews-list">
                <!-- Reviews will be dynamically loaded here -->
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About Us</h3>
                <p>Nike Store - Your destination for premium athletic footwear and apparel.</p>
            </div>
            <div class="footer-section">
                <h3>Contact</h3>
                <p>Email: support@nikestore.com</p>
                <p>Phone: +63 2 8888 8888</p>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Nike Store. All rights reserved.</p>
        </div>
    </footer>

    <script src="../auth.js"></script>
    <script src="../productfunctions.js"></script>
    <script>
        // Product specific data
        const product = {
            id: "{PRODUCT_ID}",
            name: "{PRODUCT_NAME}",
            price: {CURRENT_PRICE_VALUE},
            originalPrice: {ORIGINAL_PRICE_VALUE},
            discount: {DISCOUNT},
            brand: "{BRAND}",
            style: "{STYLE}",
            description: "{DESCRIPTION}",
            image: "{PRODUCT_IMAGE}"
        };

        // Initialize the page when loaded
        document.addEventListener('DOMContentLoaded', () => {
            initializeProductPage(product);
        });
    </script>
</body>
</html>